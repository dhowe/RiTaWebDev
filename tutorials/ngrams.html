<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>Tutorial-Analyzing Text</title>
  <meta name="generator" content="JsDoc" />
  <!-- bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <!-- slick js-->
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
  <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
  <!-- css -->
  <link rel="stylesheet" href="css/svg.css">
  <link rel="stylesheet" href="css/slick.css">
  <link rel="stylesheet" href="css/icomoon.css">
  <link rel="stylesheet" href="css/animate.css">
  <link rel="stylesheet" href="../css/mainStyle.css">
  <link rel="stylesheet" href="../css/tutorial.css">

</head>

<body>
  <!-- Nav Bar -->
  <div class="navbar-sticky visible">

    <div class="container">
      <div class="logo-wrapper d-inline-block"> <a href="../index.html#download-wrapper"> <img src="../img/RiTaLogo.png" alt="RiTa - a software toolkit for computational literature"> </a> </div>
      <div class="menu-icon-mobile"><a href="#"> <img src="../css/menu-icon.svg" /> </a></div>
      <ul class="nav-wrapper d-inline-block">
        <li class="hidden-sm"><a class="" data-toggle="collapse" href="../index.html#download-wrapper" role="button" aria-expanded="false" aria-controls="collapseExample" id="dlbtn">Download</a></li>
        <li class="hidden-sm"><a href="../index.html#learning-wrapper">Learning</a></li>
        <!--li class="hidden-xs"> <a target="blank" href="http://rednoise.org/dialogic-api">DOCUMENTATION</a></li-->
        <li class="hidden-sm"><a target="blank" href="../index.html#reference-wrapper">Reference</a></li>
        <li class="hidden-sm"><a target="blank" href="../index.html#gallery-wrapper">Gallery</a></li>
        <li> <a href="https://github.com/dhowe/rita2" target="blank" class="icon m-l-30"> <svg class="svg-inline--fa fa-github fa-w-16" aria-hidden="true" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 496 512" data-fa-i2svg="">
              <path fill="currentColor"
                d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
              </path>
            </svg><!-- <i class="fab fa-github"></i> --> </a> </li>
        <li>

          <a href="https://twitter.com/home?status=Generative%20interactive%20dialogue%20with%20Dialogic%20https://rednoise.org/dialogic-web" target="blank" class="icon"> <svg class="svg-inline--fa fa-twitter fa-w-16" aria-hidden="true"
              data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="">
              <path fill="currentColor"
                d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z">
              </path>
            </svg><!-- <i class="fab fa-twitter"></i> --> </a>
          <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        </li>
      </ul>
    </div>
  </div>
  <!-- End of Nav Bar -->

<div class="gd-section tutorial pad-top-large">
<div class="gd-center pad-large">
<div class="row">
  <div class="col2"></div>
  <div class="col8">

     <h4><a href="../index.html#learning-wrapper"><span>Tutorial ></span></a>Generating with RiMarkov</h4>
 <h5 class="sub">Markov Chains</h5>

<p>Markov chains (also called “n-gram” models) are systems of states and transitions. An analogy might be a set of cities connected by highways, where each city is a “state”, and each highway is a “transition”, a way of getting from one city to another.
</p>
<img style="width:60%;height:auto;" src="../img/tutorial/citiesandhighways.png" alt="" />
</p>
<p>Since we are concerned here with text, we can think of each “state” as a bit of text; a letter, a word, or a phrase (usually drawn inside a circle). A “transition“ is a way of moving from one state to another (usually drawn as an arrow). Here’s a simple example:
</p>
<img src="../img/tutorial/markov1.png" alt="" />
</p>
<p>In the image above we see a simple Markov chain for the sentence: “The girl created a game after school.” We can start at the first word, “The”, and follow the arrows to get to the final word, “.” In this very simple chain, each word leads to exactly one subsequent word, so there are no choices we need to make.</p><p>But consider the following example (with 2 sentences):
</p>
<img src="../img/tutorial/markov2.png" alt="" />
</p>
<p>Again, we start from the left, at “The”, but after we get to “girl”, we have two choices about where to go next. Depending on which transition we take, we will end up with one of two different sentences. Here the probability of choosing either sentence is 50% or 0.5.
The same idea can be further extended to a sequence of syllables, letters, words or sentences.</p>
<p>
Now let’s change the sentences to make things slightly more interesting:</p>
<div class="example">The girl went to a game after dinner. <br /> The teacher went to dinner with a girl.</div>

<p><br>The word “went” can occur after either “girl” or “teacher”. The word (or token) that follows “girl” can be either “.” or “went”.

<p>If we consider all the word pairs for the above two sentences (<em>n</em>=2), the outcome would look something like this (you can think of the &rarr; symbol as 'can be followed by' and the &vert; symbol as OR).
</p>

<pre style="font-size: 16px; font-family: consolas; background-color: #f5f5f5">
      The      &rarr;    girl | teacher
      girl     &rarr;    went | .
      went     &rarr;    to
      to       &rarr;    a | dinner
      a        &rarr;    game | girl
      game     &rarr;    after
      after    &rarr;    dinner
      dinner   &rarr;    . | with
      .        &rarr;    The
      teacher  &rarr;    went
      with     &rarr;    a</pre>

<p>This way of looking at contiguous sequences of text, with a specific size (in our case, two words at a time), is known as an <b>n-gram</b> or <b>Markov chain</b>. And this idea can be extended to create models from sequences of arbitrary length, whether syllables, letters, words or sentences.<br></p>

<h5><br><b>Generating with n-grams</b></h5>

<p>Generally n-grams are used as a means of <em>analysing</em> language, but here we are interested in <em>generating</em> new text. To do this, we can think of the table (or model) above as an action guide that the computer can follow to create new sentences. For example, lets say the computer begins with the word “The”. Then it checks the guide for words that can be followed by “The”, and finds two options: “girl” and “teacher”. It flips a coin and picks “girl”. Then it checks for words that follow “girl”, and finds two options: “went” or “.” &nbsp;And so on...
</p>

<p>
With a longer text sample we could experiment with different <em>n</em>-values, looking at, say... 3 or 4 words at a time. The higher the <em>n</em>-value, the more similar the output will be to the input text (and the more processing/memory required). Often the easiest way to find the best value for <em>n</em> is just to experiment...
</p>

<p><br>Here is a very simple example of <a href="../examples/p5js/Kafgenstein/index.html">Markov-based generation with the RiTa library</a>.
</p>

<p><br><em>Aside: for the computer-science-oriented, we can think of these models as Finite State Machines, or more generally as (labelled) Directed Graphs. A common way of implementing them is as a tree, where each node contains a word, its count, and a list of children, one for each word that follows it.</em></p>


<br />
<h5><b>RiMarkov</b></h5>
<p>To generate text with a Markov chain in RiTa requires three steps:
</p>
<p>First, we construct a model and set its n-factor (the # of elements to consider). Let’s start with n=4...
</p>
<pre><code class="language-javascript">  rm = new Markov(4);</code></pre>
<p>
<br>Second, we provide some text for RiTa to analyse. There are two functions to achieve this: <em>fromJSON()</em> and  <em>addText()</em>. Let's start with <em>addText()</em>, which simply loads a string of text into the model.
</p>
<pre><code class="language-javascript">
  rm.addText("The girl went to a game after dinner. The teacher went \
    to dinner with a girl.");
</code></pre>
<p>
<br>Third, generate an outcome according to the Markov model. You can use <em>generate()</em> to achieve different types of results. Here are all three steps together:
</p>
<pre><code class="language-javascript">  rm = new Markov(4);
  rm.addText("The girl went to a game after dinner. The teacher went \
    to dinner with a girl.");
  sentences = rm.generate(2);
</code></pre>
<p>
<br>If we were to run this code, we would get an output like:</p>
<div class="example">
  The teacher went to dinner. <br />The girl went to dinner with a game after dinner.
</div>
<p>
<br>
</p>
<p>To get a better sense of how it all works, check out <a href="../examples/p5js/Kafgenstein/index.html">this example sketch</a> which uses RiTa and p5.js to load and blend two different texts</p>


<hr/>

<div id="Next" class="pad-small">
<p>NEXT > see <a href="concordance.html"><b>Concordance and Key-Word-In-Context</b></a></p>
</div>

</div>
<div class="col2"></div>
</div>
</div>
</div>


<!--
End Site Content
-->

</body>
</html>
